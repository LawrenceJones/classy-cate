mixin li-icon(icon, state, msg)
  li(ui-sref!=state, ui-sref-active='active')
    a
      i.fa(class!=icon)
      span(class='nav-text-default', ui-sref!=state, 
           ui-sref-active='nav-text-active')= msg

mixin extra-links
  li.visible-lg.visible-md
    a#nav-teachdb(href='https://teachdb.doc.ic.ac.uk/db/') Teach DB
  li.visible-lg
    a#nav-internalreg(href='https://dbc.doc.ic.ac.uk/internalreg') Module Registration
  li.visible-lg
    a(ui-sref='audit') Security

mixin user-links
  li.dropdown
    a.dropdown-toggle(data-toggle='dropdown')
      | Tom Burnell
      i.fa.fa-user(style='margin-left: 10px')
    ul.dropdown-menu
      li
        a Settings
      li
        a(auth-logout) Logout
      li.divider
      li
        a Report Issue
      li
        a Project GitHub


nav.navbar.navbar-default.navbar-fixed-top(role='navigation')
  .container
    .container-fluid
      .navbar-header
        button.navbar-toggle(data-toggle='collapse', data-target='#nav-links')
          span.sr-only Toggle navigation
          span.icon-bar
          span.icon-bar
          span.icon-bar
        a.navbar-brand(ui-sref='app.dashboard' style='font-family: Signika; font-size: 25px;') JANe
        span#cc-version
      .collapse.navbar-collapse#nav-links
        ul.nav.navbar-right.navbar-nav
          li(course-selector courses='registeredCourses')
          +li-icon('fa-calendar', 'app.timetable', 'Timetable')
          +li-icon('fa-trophy', 'app.grades', 'Grades')
          +li-icon('fa-comment', 'app.discussions', 'Discussions')
          +user-links()
       
